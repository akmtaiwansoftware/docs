<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Exosite Documentation</title>

    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.png">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="/assets/less/style.css">

    <!-- Meta -->
    <meta content="Exosite Reference Documentation" property="og:title">
    <meta content="Developer Documentation for Exosite" name="description">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44116002-2', 'auto');
      ga('send', 'pageview');

    </script>

    <!-- Initializer -->
    <script></script>

</head>
<body>
<nav class="navbar navbar-inverse navbar-static-top navbar-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#nav-collapse"
                    aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <div class="navbar-left"><a class="navbar-brand" href="/"><img src="/assets/exosite-logo.png" id="logo"></a>
            </div>
            <div class="navbar-text navbar-left text-uppercase"><strong>Documentation</strong></div>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="nav-collapse">
            <ul class="nav navbar-nav">
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href='https://support.exosite.com'>Support</a></li>
                <li><a href='https://community.exosite.com' target="_blank">Developer Forum</a></li>
            </ul>
            <ul class="nav navbar-nav visible-xs">
                <div class="nav-links mobile-docs">
                    <ul class="nav navbar-nav">
                        <li><a type="button" data-toggle="collapse" href="#nav-murano-platform" aria-expanded="false">Murano</a>
                        </li>
                        <ul class="navbar-collapse collapse list-unstyled" id="nav-murano-platform">
                            <li class="menu-header">About</li>
                            <li><a class="level-0" href="/">Murano Overview</a></li>
                            <li><a class="level-0" href="/about/data-flow/">Data Flow</a></li>
                            <li><a class="level-0" href="/about/products/">Products</a></li>
                            <li><a class="level-0" href="/about/integrations/">Integrations</a></li>
                            <li><a class="level-0" href="/about/applications/">Applications</a></li>
                            <li class="menu-header">Quickstarts</li>
                            <li><a class="level-0" href="/quickstarts/">Quickstarts Overview</a></li>
                            <li><a class="level-0" href="/quickstarts/devicesensor/">Device Sensor Quickstart</a></li>
                            <li><a class="level-0" href="/quickstarts/lightbulb/">Lightbulb Quickstart</a></li>
                            <li><a class="level-0" href="/quickstarts/solutions/exampleapp/">Solution Quickstart</a>
                            </li>
                            <li class="menu-header">Tutorials</li>
                            <li><a class="level-0" href="/tutorials/">Tutorials Overview</a></li>
                            <li><a class="level-0" href="/tutorials/hvac-tutorial/">HVAC Reference Application</a></li>
                            <li><a class="level-0" href="/tutorials/esp8266-tutorial/">ESP8266 Thing Dev Board</a></li>
                        </ul>
                        <li><a type="button" data-toggle="collapse" href="#nav-services" aria-expanded="false">Services</a></li>
                        <ul class="navbar-collapse collapse list-unstyled" id="nav-services">
                            <li class="menu-header">Communication</li>
                            <li><a class="level-1" href="/reference/services/device">Device Gateway</a></li>
                            <li><a class="level-1" href="/reference/services/email">Email</a></li>
                            <li><a class="level-1" href="/reference/services/twilio">Twilio</a></li>
                            <li><a class="level-1" href="/reference/services/webservice">Custom API Gateway</a></li>
                            <li><a class="level-1" href="/reference/services/websocket">WebSocket Gateway</a></li>
                            <li class="menu-header">IoT</li>
                            <li><a class="level-1" href="/reference/services/device">Device Gateway</a></li>
                            <li class="menu-header">Storage</li>
                            <li><a class="level-1" href="/reference/services/keystore">Key-Value Store</a></li>
                            <li><a class="level-1" href="/reference/services/tsdb">Time Series Storage</a></li>
                            <li class="menu-header">Other</li>
                            <li><a class="level-1" href="/reference/services/config">Solution Configuration</a></li>
                            <li><a class="level-1" href="/reference/services/timer">Timer Service API</a></li>
                            <li><a class="level-1" href="/reference/services/user">User Management</a></li>
                        </ul>

                        <li><a type="button" data-toggle="collapse" href="#nav-reference" aria-expanded="false">Reference</a>
                        </li>
                        <ul class="navbar-collapse collapse list-unstyled" id="nav-reference">
                            <li class="menu-header">API</li>
                            <li><a class="level-0" href="/reference/products/device-api/http/">Device API - HTTP</a></li>
                            <li><a class="level-0" href="/reference/scripting">Solution Scripting</a></li>
                            <li><a class="level-0" href="/reference/services">Core Services Overview</a></li>
                            <li class="menu-header">Tools</li>
                            <li><a class="level-0" href="/development/tools/murano-cli/">Murano CLI</a></li>
                            <li><a class="level-0" href="/development/tools/deployment/">Solution Deployment</a></li>
                            <li><a class="level-0" href="/development/tools/exosite-cli/">Exosite CLI</a></li>
                            <li><a class="level-0" href="/development/exositeready/libraries-examples/">Libraries & Examples</a></li>
                            <li><a class="level-0" href="/development/exositeready/gwe/">Gateway Engine</a></li>
                            <li><a class="level-0" href="/portals/">One Platform & Portals</a></li>
                            <li class="menu-header">UI</li>
                            <li><a class="level-0" href="/reference/ui/create-account/">Create an Account</a></li>
                            <li><a class="level-0" href="/reference/ui/manage-business/">Manage Your Business</a></li>
                            <li><a class="level-0" href="/reference/ui/create-solution/">Create a Solution</a></li>
                            <li><a class="level-0" href="/reference/ui/create-product/">Create a Product</a></li>
                            <li><a class="level-0" href="/reference/ui/user-management/">Manage Users</a></li>
                            <li><a class="level-0" href="/reference/ui/keystore-service/">Record Product Metrics</a></li>
                            <li><a class="level-0" href="/reference/ui/external-app-hosting/">Host Your App Externally</a></li>
                            <li><a class="level-0" href="/reference/ui/device-management/">Manage Your Device Lifecycle</a></li>
                            <li><a class="level-0" href="/reference/ui/send-notifications/">Send Notifications</a></li>
                        </ul>
                    </ul>
                </div>
            </ul>
            <form id="searchForm" class="navbar-form navbar-right form-inline search-form">
                <!-- <a class="btn btn-warning" href="https://exosite.com/business/signup">Sign Up For Murano</a> -->
                <div class="form-group">
                    <input id="docsearch" onsubmit="return false;" type="text" class="form-control nav-search"
                           placeholder="Search...">
                </div>
            </form>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>
<div class="row main-row row-offcanvas row-offcanvas-left">
    <div class="hidden-xs sidenav sidebar-offcanvas">
        <h3 class="sidenav-header">Murano</h3>
        <ul class="list-unstyled">
            <li class="menu-header">About</li>
            <li><a class="level-0" href="/">Murano Overview</a></li>
            <li><a class="level-0" href="/about/data-flow/">Data Flow</a></li>
            <li><a class="level-0" href="/about/products/">Products</a></li>
            <li><a class="level-0" href="/about/integrations/">Integrations</a></li>
            <li><a class="level-0" href="/about/applications/">Applications</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">Quickstarts</li>
            <li><a class="level-0" href="/quickstarts/">Quickstarts Overview</a></li>
            <li><a class="level-0" href="/quickstarts/devicesensor/">Device Sensor Quickstart</a></li>
            <li><a class="level-0" href="/quickstarts/lightbulb/">Lightbulb Quickstart</a></li>
            <li><a class="level-0" href="/quickstarts/solutions/exampleapp/">Solution Quickstart</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">Tutorials</li>
            <li><a class="level-0" href="/tutorials/">Tutorials Overview</a></li>
            <li><a class="level-0" href="/tutorials/hvac-tutorial/">HVAC Reference Application</a></li>
            <li><a class="level-0" href="/tutorials/esp8266-tutorial/">ESP8266 Thing Dev Board</a></li>
        </ul>


        <h3 class="sidenav-header">Services</h3>
        <ul class="list-unstyled">
            <li class="menu-header">Communication</li>
            <li><a class="level-1" href="/reference/services/device">Device Gateway</a></li>
            <li><a class="level-1" href="/reference/services/email">Email</a></li>
            <li><a class="level-1" href="/reference/services/twilio">Twilio</a></li>
            <li><a class="level-1" href="/reference/services/webservice">Custom API Gateway</a></li>
            <li><a class="level-1" href="/reference/services/websocket">WebSocket Gateway</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">IoT</li>
            <li><a class="level-1" href="/reference/services/device">Device Gateway</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">Storage</li>
            <li><a class="level-1" href="/reference/services/keystore">Key-Value Store</a></li>
            <li><a class="level-1" href="/reference/services/tsdb">Time Series Storage</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">Other</li>
            <li><a class="level-1" href="/reference/services/config">Solution Configuration</a></li>
            <li><a class="level-1" href="/reference/services/timer">Timer Service API</a></li>
            <li><a class="level-1" href="/reference/services/user">User Management</a></li>
        </ul>

        <h3 class="sidenav-header">Reference</h3>
        <ul class="list-unstyled">
            <li class="menu-header">API</li>
            <li><a class="level-0" href="/reference/products/device-api/http/">Device API - HTTP</a></li>
            <li><a class="level-0" href="/reference/products/device-api/curl/">Device API with Curl</a></li>
            <li><a class="level-0" href="/reference/scripting">Solution Scripting</a></li>
            <li><a class="level-0" href="/reference/services">Core Services Overview</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">Tools</li>
            <li><a class="level-0" href="/development/tools/murano-cli/">Murano CLI</a></li>
            <li><a class="level-0" href="/development/tools/deployment/">Solution Deployment</a></li>
            <li><a class="level-0" href="/development/tools/exosite-cli/">Exosite CLI</a></li>
            <li><a class="level-0" href="/development/exositeready/libraries-examples/">Libraries & Examples</a></li>
            <li><a class="level-0" href="/development/exositeready/gwe/">Gateway Engine</a></li>
            <li><a class="level-0" href="/portals/">One Platform & Portals</a></li>
        </ul>
        <ul class="list-unstyled">
            <li class="menu-header">UI</li>
            <li><a class="level-0" href="/reference/ui/create-account/">Create an Account</a></li>
            <li><a class="level-0" href="/reference/ui/manage-business/">Manage Your Business</a></li>
            <li><a class="level-0" href="/reference/ui/create-solution/">Create a Solution</a></li>
            <li><a class="level-0" href="/reference/ui/create-product/">Create a Product</a></li>
            <li><a class="level-0" href="/reference/ui/user-management/">Manage Users</a></li>
            <li><a class="level-0" href="/reference/ui/keystore-service/">Record Product Metrics</a></li>
            <li><a class="level-0" href="/reference/ui/external-app-hosting/">Host Your App Externally</a></li>
            <li><a class="level-0" href="/reference/ui/device-management/">Manage Your Device Lifecycle</a></li>
            <li><a class="level-0" href="/reference/ui/send-notifications/">Send Notifications</a></li>
        </ul>
    </div>
    <div class="main content">
        <h1 id="coap-api">CoAP API</h1>
<p>This api is currently released as a beta and may be updated at any time.</p>
<p>The Constrained Application Protocol (CoAP) is a specialized web transfer protocol for use with constrained nodes and constrained (e.g., low-power, lossy) networks. The nodes often have 8-bit microcontrollers with small amounts of ROM and RAM, while constrained networks such as 6LoWPAN often have high packet error rates and a typical throughput of 10s of kbit/s. The protocol is designed for machine-to-machine (M2M) applications such as smart energy and building automation.</p>
<p>CoAP provides a request/response interaction model between application endpoints, supports built-in discovery of services and resources, and includes key concepts of the Web such as URIs and Internet media types. CoAP is designed to easily interface with HTTP for integration with the Web while meeting specialized requirements such as multicast support, very low overhead and simplicity for constrained environments.</p>
<p>For more information on the CoAP protocol see <a href="https://tools.ietf.org/html/rfc7252">RFC7252</a>.</p>
<h2 id="procedures">Procedures</h2>
<h3 id="timeseries-data-procedures">Timeseries Data Procedures</h3>
<p><a href="#write">Write</a> - write new data to a set of dataports</p>
<p><a href="#read">Read</a> - read the latest data from a set of dataports</p>
<p><a href="#observed-read">Observed Read</a> - be notified immediately when a dataport is updated</p>
<p><a href="#multiple-read-and-write">Multiple Read and Write</a> - write a set of dataports, then read a set of dataports</p>
<h3 id="provisioning-procedures">Provisioning Procedures</h3>
<p><a href="#activate">Activate</a> - activate device and get device&#39;s CIK</p>
<p><a href="#list-content-ids">List Content IDs</a> - get a list of content available to device</p>
<p><a href="#get-content-info">Get Content Info</a> - get meta information about content file</p>
<p><a href="#download-content">Download Content</a> - get content file</p>
<h3 id="utility-procedures">Utility Procedures</h3>
<p><a href="#timestamp">Timestamp</a> - get the current unix timestamp</p>
<p><a href="#remote-procedure-call-proxy">Remote Procedure Call Proxy</a> - proxy CBOR-RPC calls to the <a href="/portals/rpc">JSON-RPC</a> API</p>
<h2 id="libraries-and-sample-code">Libraries and Sample Code</h2>
<p>A sample CoAP client written in python is available in the <a href="https://github.com/exosite-garage/CoAPExample">CoAPExample</a> repository.</p>
<h2 id="notational-conventions">Notational Conventions</h2>
<p>This document uses a few notational conventions:</p>
<ul>
<li>A name in angle brackets, e.g. <code>&lt;myvar&gt;</code>, is a placeholder that will be defined elsewhere.</li>
<li>CoAP request packets are shown in a text format with the format <code>METHOD: URI\nPAYLOAD</code>.</li>
</ul>
<h2 id="coap-responses">CoAP Responses</h2>
<p>CoAP makes use of so called CoAP Response Codes which resemble the HTTP status codes defined in <a href="https://tools.ietf.org/html/rfc7231#section-6">RFC7231</a> plus some CoAP-specific status codes. The Response Code is encoded into an 8-bit unsigned integer code as defined in <a href="https://tools.ietf.org/html/rfc7252#section-3">section 3 of the rfc</a>. </p>
<p>Exosite&#39;s API currently only return a subset of the response codes as defined in the table below, however we may start using any other code at any time. You should, at a minimum, support every code class if you don&#39;t handle each code individually.</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
<th>Used</th>
</tr>
</thead>
<tbody>
<tr>
<td>2.01</td>
<td>Created</td>
<td>Y</td>
</tr>
<tr>
<td>2.02</td>
<td>Deleted</td>
<td>N</td>
</tr>
<tr>
<td>2.03</td>
<td>Valid</td>
<td>N</td>
</tr>
<tr>
<td>2.04</td>
<td>Changed</td>
<td>Y</td>
</tr>
<tr>
<td>2.05</td>
<td>Content</td>
<td>Y</td>
</tr>
<tr>
<td>2.31</td>
<td>Continue</td>
<td>Y</td>
</tr>
<tr>
<td>4.00</td>
<td>Bad Request</td>
<td>N</td>
</tr>
<tr>
<td>4.01</td>
<td>Unauthorized</td>
<td>Y</td>
</tr>
<tr>
<td>4.02</td>
<td>Bad Option</td>
<td>Y</td>
</tr>
<tr>
<td>4.03</td>
<td>Forbidden</td>
<td>Y</td>
</tr>
<tr>
<td>4.04</td>
<td>Not Found</td>
<td>Y</td>
</tr>
<tr>
<td>4.05</td>
<td>Method Not Allowed</td>
<td>N</td>
</tr>
<tr>
<td>4.06</td>
<td>Not Acceptable</td>
<td>N</td>
</tr>
<tr>
<td>4.08</td>
<td>Request Entity Incomplete</td>
<td>Y</td>
</tr>
<tr>
<td>4.12</td>
<td>Precondition Failed</td>
<td>Y</td>
</tr>
<tr>
<td>4.13</td>
<td>Request Entity Too Large</td>
<td>N</td>
</tr>
<tr>
<td>4.15</td>
<td>Unsupported Content-Format</td>
<td>N</td>
</tr>
<tr>
<td>5.00</td>
<td>Internal Server Error</td>
<td>N</td>
</tr>
<tr>
<td>5.01</td>
<td>Not Implemented</td>
<td>N</td>
</tr>
<tr>
<td>5.02</td>
<td>Bad Gateway</td>
<td>N</td>
</tr>
<tr>
<td>5.03</td>
<td>Service Unavailable</td>
<td>N</td>
</tr>
<tr>
<td>5.04</td>
<td>Gateway Timeout</td>
<td>N</td>
</tr>
<tr>
<td>5.05</td>
<td>Proxying Not Supported</td>
<td>N</td>
</tr>
</tbody>
</table>
<h1 id="procedures">Procedures</h1>
<h2 id="write">Write</h2>
<p>Write one dataport of alias <code>&lt;alias&gt;</code> with given <code>&lt;value&gt;</code>. Data is written with the server timestamp as of the time the data was received by the server. Data cannot be written faster than a rate of once per second.</p>
<pre><code>POST: coap://coap.exosite.com/1a/&lt;alias&gt;?&lt;CIK&gt;
&quot;&lt;value&gt;&quot;
</code></pre><pre><code>  Client                    Server
      |                        |
      |   CON POST             |
      |   uri_path: &quot;1a&quot;       |
      |   uri_path: &quot;&lt;alias&gt;&quot;  |
      |   uri_query: &quot;&lt;CIK&gt;&quot;   |
      |   &quot;&lt;value&gt;&quot;            |
      +-----------------------&gt;|
      |                        |
      |   ACK Changed (2.04)   |
      |&lt;-----------------------+
</code></pre><p><code>&lt;alias&gt;</code>: The alias of the datasource that is being written to.<br><code>&lt;value&gt;</code>: The value to be written at the current time as a UTF-8 string.<br><code>&lt;CIK&gt;</code>: The client identification key. This can either be a UTF-8 string or the binary representation of the cik as a hexidecimal value sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option.</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.04 Changed: The value has been written.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.03 Forbidden: The given alias couldn&#39;t be accesses with the given CIK.</li>
</ul>
<h2 id="read">Read</h2>
<p>Read the most recent value from the dataport with alias <code>&lt;alias&gt;</code>. If at <code>&lt;alias&gt;</code> is found and has data, data will be returned.</p>
<pre><code>GET: coap://coap.exosite.com/1a/&lt;alias&gt;?&lt;CIK&gt;
</code></pre><pre><code>  Client                    Server
      |                        |
      |   CON GET              |
      |   uri_path: &quot;1a&quot;       |
      |   uri_path: &quot;&lt;alias&gt;&quot;  |
      |   uri_query: &quot;&lt;CIK&gt;&quot;   |
      +-----------------------&gt;|
      |                        |
      |   ACK Content (2.05)   |
      |   &quot;&lt;value&gt;&quot;            |
      |&lt;-----------------------+
</code></pre><p><code>&lt;alias&gt;</code>: The alias of the datasource that is be read.<br><code>&lt;value&gt;</code>: The latest value that has been written to the given dataport as a UTF-8 string.<br><code>&lt;CIK&gt;</code>: The client identification key. This can either be a UTF-8 string or the binary representation of the cik as a hexadecimal value sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option.</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: The value is returned.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.03 Forbidden: The given alias couldn&#39;t be accesses with the given CIK.</li>
</ul>
<h2 id="observed-read">Observed Read</h2>
<p>The read API supports the <a href="https://tools.ietf.org/html/draft-ietf-core-observe-15">observe</a> feature which allows to be notified any time the specified dataport is updated.</p>
<p><em>NOTE: This feature is based on a draft RFC and is a brand new feature being implemented currently. Therefore, is even more subject to change than than the rest of the API.</em></p>
<p>You can inform the server that you would like to be informed of updates by including the observe option in the standard read request. If you receive a response with a 2.05 Content code and an observe option you have successfully observed that dataport and our server will send you asynchronous requests any time the dataport is updated or when the max_age of the last sent packet expires.</p>
<pre><code>GET: coap://coap.exosite.com/1a/&lt;alias&gt;?&lt;CIK&gt;
</code></pre><pre><code>  Client                    Server
      |                        |
      |   CON GET              |
      |   observe: 0           |
      |   uri_path: &quot;1a&quot;       |
      |   uri_path: &quot;&lt;alias&gt;&quot;  |
      |   uri_query: &quot;&lt;CIK&gt;&quot;   |
      +-----------------------&gt;|
      |                        |
      |   ACK Content (2.05)   |
      |   observe: 0           |
      |   &quot;&lt;value&gt;&quot;            |
      |&lt;-----------------------+
                  ...
      |                        |
      |   CON Content (2.05)   |
      |   observe: &lt;N&gt;         |
      |   max_age: &lt;S&gt;         |
      |   &quot;&lt;value&gt;&quot;            |
      |&lt;-----------------------+
      |                        |
      |   ACK Empty (0.00)     |
      |-----------------------&gt;+
</code></pre><p><code>&lt;alias&gt;</code>: The alias of the datasource that is to have the latest value read.<br><code>&lt;CIK&gt;</code>: The client identification key. This can either be a UTF-8 string or the binary representation of the cik as a hexadecimal value sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option.</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: The value is returned.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.03 Forbidden: The given alias couldn&#39;t be accesses with the given CIK.</li>
</ul>
<h2 id="multiple-read-and-write">Multiple Read and Write</h2>
<p>Read the most recent value from zero or more dataports and write a value to zero or more dataports with the given values in one call. The server will look in the first uri query option for the CIK.</p>
<p>The payloads for both writing and the returned values for reading are in the CBOR (Concise Binary Object Representation) format. It is shown in this document in a JSON-like format for display purposes. See <a href="http://cbor.io">http://cbor.io</a> for more information.</p>
<pre><code>POST: coap://coap.exosite.com/1a?&lt;CIK&gt;
</code></pre><pre><code>  Client                                                   Server
      |                                                      |
      |   CON POST                                           |
      |   uri_path: &quot;1a&quot;                                     |
      |   uri_query: &quot;&lt;CIK&gt;&quot;                                 |
      |   uri_query: &quot;&lt;alias r1&gt;&quot;                            |
      |   ...                                                |
      |   uri_query: &quot;&lt;alias rN&gt;&quot;                            |
      |   {&quot;&lt;alias w1&gt;&quot;: &quot;26.1&quot;, ..., &quot;&lt;alias wN&gt;&quot;: &quot;on&quot;}    |
      +-----------------------------------------------------&gt;|
      |                                                      |
      |   ACK Content (2.05)                                 |
      |   {&quot;&lt;alias r1&gt;&quot;: &quot;99&quot;, ..., &quot;&lt;alias rN&gt;&quot;: &quot;0&quot;}       |
      |&lt;-----------------------------------------------------+
</code></pre><p><code>&lt;alias#&gt;</code>: The alias of the datasource that is to have the latest value read or written.<br><code>&lt;CIK&gt;</code>: The client identification key. This can either be a UTF-8 string or the binary representation of the cik as a hexadecimal value sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option.</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: The value is returned.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.03 Forbidden: The given alias couldn&#39;t be accesses with the given CIK.</li>
</ul>
<h2 id="activate">Activate</h2>
<p>Request an activation of the given device, returns the CIK (as a string) if activated successfully.</p>
<pre><code>POST: coap://coap.exosite.com/provision/activate/&lt;vendor&gt;/&lt;model&gt;/&lt;sn&gt;
</code></pre><pre><code>  Client                      Server
      |                           |
      |   CON POST                |
      |   uri_path: &quot;provision&quot;   |
      |   uri_path: &quot;activate&quot;    |
      |   uri_path: &quot;&lt;vendor&gt;&quot;    |
      |   uri_path: &quot;&lt;model&gt;&quot;     |
      |   uri_path: &quot;&lt;sn&gt;&quot;        |
      +--------------------------&gt;|
      |                           |
      |   ACK Content (2.05)      |
      |   &quot;&lt;CIK&gt;&quot;                 |
      |&lt;--------------------------+
</code></pre><h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: Activated, CIK Returned as UTF-8 String</li>
<li>4.04 Not Found: No device waiting activation found with given information.</li>
</ul>
<h2 id="list-content-ids">List Content IDs</h2>
<p>Fetch the list of available content IDs for the given device.</p>
<pre><code>GET coap://coap.exosite.com/provision/download/&lt;vendor&gt;/&lt;model&gt;?&lt;CIK&gt;
</code></pre><pre><code>  Client                      Server
      |                           |
      |   CON GET                 |
      |   uri_path: &quot;provision&quot;   |
      |   uri_path: &quot;download&quot;    |
      |   uri_path: &quot;&lt;vendor&gt;&quot;    |
      |   uri_path: &quot;&lt;model&gt;&quot;     |
      |   uri_query: &quot;&lt;CIK&gt;&quot;      |
      +--------------------------&gt;|
      |                           |
      |   ACK Content (2.05)      |
      |   &quot;&lt;id1&gt;, &lt;id2&gt;, ...&quot;     |
      |&lt;--------------------------+
</code></pre><h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: Content List Returned as UTF-8 Strings Separated by Newlines</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.04 Not Found: No device or no content found with given information.</li>
</ul>
<h2 id="get-content-info">Get Content Info</h2>
<p>Fetch information about the given content.</p>
<pre><code>GET coap://coap.exosite.com/provision/download/&lt;vendor&gt;/&lt;model&gt;/&lt;id&gt;/info?&lt;CIK&gt;
</code></pre><pre><code>  Client                                                        Server
      |                                                             |
      |   CON GET                                                   |
      |   uri_path: &quot;provision&quot;                                     |
      |   uri_path: &quot;download&quot;                                      |
      |   uri_path: &quot;&lt;vendor&gt;&quot;                                      |
      |   uri_path: &quot;&lt;model&gt;&quot;                                       |
      |   uri_path: &quot;&lt;id&gt;&quot;                                          |
      |   uri_path: &quot;info&quot;                                          |
      |   uri_query: &quot;&lt;CIK&gt;&quot;                                        |
      +------------------------------------------------------------&gt;|
      |                                                             |
      |   ACK Content (2.05)                                        |
      |   &quot;&lt;content-type&gt;,&lt;byte-size&gt;,&lt;updated-timestamp&gt;,&lt;meta&gt;&quot;   |
      |&lt;------------------------------------------------------------+
</code></pre><h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: Content Info Returned as UTF-8 String</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.04 Not Found: No device or no content found with given information.</li>
</ul>
<h2 id="download-content">Download Content</h2>
<p>Download the given content using a blockwise transfer.</p>
<pre><code>GET coap://coap.exosite.com/provision/download/&lt;vendor&gt;/&lt;model&gt;/&lt;id&gt;?&lt;CIK&gt;
Block Option: Block2
</code></pre><pre><code>  Client                       Server
      |                            |
      |   CON GET                  |
      |   uri_path: &quot;provision&quot;    |
      |   uri_path: &quot;download&quot;     |
      |   uri_path: &quot;&lt;vendor&gt;&quot;     |
      |   uri_path: &quot;&lt;model&gt;&quot;      |
      |   uri_path: &quot;&lt;id&gt;&quot;         |
      |   uri_query: &quot;&lt;CIK&gt;&quot;       |
      |   block2: 0/0/128          |
      +---------------------------&gt;|
      |                            |
      |   ACK Content (2.05)       |
      |   block2: 0/1/128          |
      |   &quot;&lt;content-block&gt;&quot;        |
      |&lt;---------------------------+
      |                            |
      |   CON GET                  |
      |   uri_path: &quot;provision&quot;    |
      |   uri_path: &quot;download&quot;     |
      |   uri_path: &quot;&lt;vendor&gt;&quot;     |
      |   uri_path: &quot;&lt;model&gt;&quot;      |
      |   uri_path: &quot;&lt;id&gt;&quot;         |
      |   uri_query: &quot;&lt;CIK&gt;&quot;       |
      |   block2: 1/0/128          |
      +---------------------------&gt;|
      |                            |
      |   ACK Content (2.05)       |
      |   block2: 1/1/128          |
      |   &quot;&lt;content-block&gt;&quot;        |
      |&lt;---------------------------+
      |                            |
      |   CON GET                  |
      |   uri_path: &quot;provision&quot;    |
      |   uri_path: &quot;download&quot;     |
      |   uri_path: &quot;&lt;vendor&gt;&quot;     |
      |   uri_path: &quot;&lt;model&gt;&quot;      |
      |   uri_path: &quot;&lt;id&gt;&quot;         |
      |   uri_query: &quot;&lt;CIK&gt;&quot;       |
      |   block2: 2/0/128          |
      +---------------------------&gt;|
      |                            |
      |   ACK Content (2.05)       |
      |   block2: 2/0/128          |
      |   &quot;&lt;last-content-block&gt;&quot;   |
      |&lt;---------------------------+
</code></pre><p>For more information about blockwise transfers, see:
<a href="http://wiki.tools.ietf.org/html/draft-ietf-core-block">http://wiki.tools.ietf.org/html/draft-ietf-core-block</a></p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: Content Returned as Uploaded.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.04 Not Found: No device or no content found with given information.</li>
</ul>
<h2 id="timestamp">Timestamp</h2>
<p>Get the current time as a unix timestamp.</p>
<pre><code>GET: coap://coap.exosite.com/ts
</code></pre><pre><code>  Client                    Server
      |                        |
      |   CON GET              |
      |   uri_path: &quot;ts&quot;       |
      +-----------------------&gt;|
      |                        |
      |   ACK Content (2.05)   |
      |   &quot;&lt;timestamp&gt;&quot;        |
      |&lt;-----------------------+
</code></pre><p><code>&lt;timestamp&gt;</code>: The current unix timestamp. This can either be a UTF-8 string or the binary representation of the timestamp as a signed integer sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option. The default format is a UTF-8 string, to request it as a signed integer, make the request with the option <code>Content-Format</code> set to <code>application/octet-stream</code> (42).</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: The value is returned.</li>
</ul>
<h1 id="remote-procedure-call-proxy">Remote Procedure Call Proxy</h1>
<p>If you need to do more with your data than read the latest value and write new values at the current time, you&#39;ll need to use the <a href="https://github.com/exosite/docs/blob/master/rpc">RPC API</a>. Generally devices don&#39;t use this API since it is relatively complicated and the JSON format is rather heavy and hard to parse and construct, but luckily for you, we&#39;ve setup a proxy that will translate the HTTP + JSON format that that API uses into a CoAP + CBOR format which drastically brings down the requirements needed to use it.</p>
<p>See the <a href="https://github.com/exosite/docs/blob/master/rpc">RPC API docs</a> for more information about using this API. The JSON of that API maps one to one the CBOR that you will receive and be expected to send.</p>
<p>You can also request that the JSON be passed straight through by sending an &#39;Accept&#39; option with &#39;application/json&#39;.</p>
<p>Responses that are longer than about 1500 bytes will need to be downloaded using block transfers.</p>
<p>The payloads for both writing and the returned values for reading are in the CBOR (Concise Binary Object Representation) format. It is shown in this document in a JSON-like format for display purposes. See <a href="http://cbor.io">http://cbor.io</a> for more information.</p>
<pre><code>POST: coap://coap.exosite.com/rpc
</code></pre><pre><code>  Client                                                   Server
      |                                                      |
      |   CON POST                                           |
      |   uri_path: &quot;rpc&quot;                                    |
      |   { &quot;auth&quot; : {&quot;cik&quot; : &quot;&lt;CIK&gt;&quot;},                      |
      |        &quot;calls&quot; : [{                                  |
      |             &quot;id&quot; : 1,                                |
      |             &quot;procedure&quot; : &quot;read&quot;,                    |
      |             &quot;arguments&quot; : [                          |
      |                 {&quot;alias&quot; : &quot;&lt;alias r1&gt;&quot;},            |
      |                 {&quot;limit&quot; : 1}                        |
      |             ]                                        |
      |         },                                           |
      |         {                                            |
      |             &quot;id&quot; : 2,                                |
      |             &quot;procedure&quot; : &quot;write&quot;,                   |
      |             &quot;arguments&quot; : [{                         |
      |                 &quot;alias&quot; : &quot;&lt;alias w1&gt;&quot;               |
      |             },                                       |
      |             65.4]                                    |
      |         },                                           |
      |         {                                            |
      |             &quot;id&quot; : 3,                                |
      |             &quot;procedure&quot; : &quot;record&quot;,                  |
      |             &quot;arguments&quot; : [{                         |
      |                 &quot;alias&quot; : &quot;&lt;alias w2&gt;&quot;               |
      |             },                                       |
      |             [[1410360812,65.4],                      |
      |             [1410360813,66.3],                       |
      |             [1410360815,67.9]],                      |
      |             {}]                                      |
      |         }]                                           |
      |     }                                                |
      |                                                      |
      +-----------------------------------------------------&gt;|
      |                                                      |
      |   ACK Content (2.05)                                 |
      |   [{                                                 |
      |         &quot;id&quot;: 1,                                     |
      |         &quot;status&quot;: &quot;ok&quot;,                              |
      |        &quot;result&quot;: [[1410360840, 64.2]]                |
      |     },                                               |
      |     {                                                |
      |         &quot;id&quot;: 2,                                     |
      |         &quot;status&quot;: &quot;ok&quot;,                              |
      |     },                                               |
      |     {                                                |
      |         &quot;id&quot;: 3,                                     |
      |         &quot;status&quot;: &quot;ok&quot;,                              |
      |     }]                                               |
      |&lt;-----------------------------------------------------+
</code></pre><p><code>&lt;alias #&gt;</code>: The alias of the datasource that is to have the latest value read or written.<br><code>&lt;CIK&gt;</code>: The client identification key. This can either be a UTF-8 string or the binary representation of the cik as a hexadecimal value sent in network byte order. However note that using the binary representation may technically violate protocol when used in the uri query option.</p>
<h3 id="responses">Responses</h3>
<ul>
<li>2.05 Content: The value is returned.</li>
<li>4.01 Unauthorized: The given CIK couldn&#39;t be used to authenticate.</li>
<li>4.03 Forbidden: The given alias couldn&#39;t be accesses with the given CIK.</li>
</ul>
<h1 id="more-info">More Info</h1>
<p>More information about the Exosite roadmap for CoAP can be made available
upon request. Further details about CoAP can be found with the
<a href="https://datatracker.ietf.org/doc/draft-ietf-core-coap/">IETF</a>.</p>

    </div>
</div> <!-- end main content row -->
</div>

<div class="footer">
    <div class="footer-container center-block">
        <div class="row">
            <div class="col-sm-3">
                <img class="footer-logo" src="/assets/logo-symbol.png" id="logo-icon">
            </div>
            <!-- products menu -->
            <div class=" col-sm-2 nav-menu">
                <h4 class="widget-title">Products</h4>
                <ul id="menu-product" class="menu">
                    <li><a href="https://exosite.com/platform/">Platform</a></li>
                    <li><a href="https://exosite.com/resources/exositeready/">ExositeReady&trade;</a></li>
                </ul>
            </div>
            <!-- solutions menu -->
            <!--<div class="col-sm-2 nav-menu">-->
                <!--<h4 class="widget-title">Solutions</h4>-->
                <!--<ul id="menu-product" class="menu">-->
                    <!--<li><a href="#">IoT 101</a></li>-->
                    <!--<li><a href="#">Concept Validation</a></li>-->
                    <!--<li><a href="#">Proof of Feasibility</a></li>-->
                <!--</ul>-->
            <!--</div>-->
            <!-- resources menu -->
            <div class="col-sm-2 nav-menu">
                <h4 class="widget-title">Resources</h4>
                <ul id="menu-product" class="menu">
                    <li><a href="https://exosite.com/casestudies/">Case Studies</a></li>
                    <li><a href="https://exosite.com/whitepapers/">White Papers</a></li>
                    <li><a href="https://exosite.com/blog/">Blog</a></li>
                    <li><a href="https://exosite.com/resources/developer-resources/">Developer Resources</a></li>
                </ul>
            </div>
            <!-- tools menu -->
            <div class="col-sm-2 nav-menu">
                <h4 class="widget-title">Tools</h4>
                <ul id="menu-product" class="menu">
                    <li><a href="https://community.exosite.com/">Community</a></li>
                    <li><a href="https://support.exosite.com/hc/en-us">Support</a></li>
                    <li><a href="https://status.exosite.com/">Status</a></li>
                </ul>
            </div>
            <!-- company menu -->
            <div class="col-sm-2 nav-menu">
                <h4 class="widget-title">Company</h4>
                <ul id="menu-product" class="menu">
                    <li><a href="https://exosite.com/about/">About</a></li>
                    <li><a href="https://exosite.com/newsroom/">News & Events</a></li>
                    <li><a href="https://exosite.com/careers/">Careers</a></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 col-sm-offset-2 footer-info">
                <p><a href="https://exosite.com/privacy-policy/">Privacy Policy</a> | <a
                        href="https://exosite.com/murano-terms-conditions/">Terms & Conditions</a></p>
                <p>All rights reserved exosite.com &copy;2017</p>
            </div>
            <div class="col-sm-2 language-select">
                <a href="#" class="btn"><img src="/assets/american-flag.png">Language</a>
            </div>
        </div>
    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>


<!-- Custom -->
<script src='/assets/main.js'></script>

</body>
</html>
